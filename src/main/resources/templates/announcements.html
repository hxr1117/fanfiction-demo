<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:if="${type} == 'announcement'">Announcements</title>
    <title th:if="${type} == 'search'" th:text="'You are searching ...' + ${search}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>
<body>
<nav th:insert="fragments/header.html :: navibar"></nav>

<div class="container">
    <h1 class="text-center" th:if="${type} == 'announcement'">Announcements</h1>
    <h1 class="text-center" th:if="${type} == 'search'" th:text="'You are searching ...' + ${search}"></h1>
    <div class="card text-center mb-3" th:each="announcement : ${announcements}">
        <div class="card-body">
            <h5 class="card-title" th:text="${announcement.getTitle()}"></h5>
            <p class="card-text text-truncate" th:text="${announcement.getContent()}"></p>
            <a href="#" class="btn btn-primary" th:href="@{/announcement/{id}(id=${announcement.getId()})}"
               th:if="${type} == 'announcement'">Details</a>
            <a href="#" class="btn btn-primary" th:href="@{/article/{id}(id=${announcement.getId()})}"
               th:if="${type} == 'search'">Read More</a>
        </div>
        <div class="card-footer text-muted"
             th:text="${#dates.format(announcement.updateTime, 'yyyy-MM-dd HH:mm')}">
        </div>
    </div>
</div>
</body>
</html>